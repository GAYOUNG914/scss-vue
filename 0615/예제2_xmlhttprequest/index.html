<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>xmlhttprequest</title>
  <meta name="description" content="xmlhttprequest">
</head>
<body>
  <h2>Using the XMLHttpRequest object</h2>
  <div id="demo">
    <button type="button" onclick="loadXMLDoc()">Change Content</button>
  </div>

  <script>
    function loadXMLDoc(){
      let xhttp = new XMLHttpRequest();
      // console.log(xhttp)
      xhttp.onreadystatechange = function(){
        if( this.readyState == 4 && this.status == 200 ){
           // console.log(this.responseText)
           let myObj = JSON.parse(this.responseText);
           // console.log(myObj)
           let ahtml = '';
           for( let dataNum  in myObj ){
               if( dataNum == 0 ){
                 ahtml += myObj[dataNum].name;
               }else{
                 ahtml += '<br>'+ myObj[dataNum];
               }
           }
           document.querySelector('#demo').innerHTML = ahtml;
        }
      }
      xhttp.open("GET","data.json", true);
      xhttp.send();//서버에 데이터를 요청, 동기에 값을 반환 시킨다.
    }
  </script>
</body>
</html>
